CREATE TABLE Student (
    Student_ID NUMBER(10) PRIMARY KEY,
    Student_Name VARCHAR(50) NOT NULL,
    Date_of_Birth DATE NOT NULL,
    Student_Address VARCHAR(40) NOT NULL,
    Student_Email VARCHAR(40) UNIQUE,
    Program_ID NUMBER(10)
);

CREATE TABLE Program (
    Program_ID NUMBER(10) PRIMARY KEY,
    Program_Name VARCHAR(40) NOT NULL,
    Program_Duration NUMBER NOT NULL,
    Program_Credits NUMBER(3) NOT NULL
);

CREATE TABLE Module (
    Module_ID NUMBER(10) PRIMARY KEY,
    Module_Name VARCHAR(50) NOT NULL,
    Credit_Hours NUMBER(3) NOT NULL
);

CREATE TABLE Student_Module (
    Student_ID NUMBER(10),
    Module_ID NUMBER(10),
    FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID),
    FOREIGN KEY (Module_ID) REFERENCES Module(Module_ID)
);

CREATE TABLE Teacher (
    Teacher_ID NUMBER(10) PRIMARY KEY,
    Teacher_Name VARCHAR(60) NOT NULL,
    Teacher_Email VARCHAR(50) UNIQUE NOT NULL,
    Teacher_Contact VARCHAR(10) UNIQUE
);

CREATE TABLE Student_Teacher_Module (
    Teacher_ID NUMBER(10),
    Module_ID NUMBER(10),
    Student_ID NUMBER(10),
    FOREIGN KEY (Teacher_ID) REFERENCES Teacher(Teacher_ID),
    FOREIGN KEY (Module_ID) REFERENCES Module(Module_ID),
    FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID)
);

CREATE TABLE Assessment (
    Assessment_ID NUMBER(10) PRIMARY KEY,
    Assessment_Title VARCHAR(50) NOT NULL,
    Assessment_Deadline DATE NOT NULL,
    Assessment_Weightage NUMBER(3) NOT NULL
);

CREATE TABLE Module_Student_Assessment (
    Assessment_ID NUMBER(10),
    Module_ID NUMBER(10),
    Student_ID NUMBER(10),
    Assessment_Status VARCHAR(20) NOT NULL,
    Obtained_Marks NUMBER(10) NOT NULL,
    FOREIGN KEY (Assessment_ID) REFERENCES Assessment(Assessment_ID),
    FOREIGN KEY (Module_ID) REFERENCES Module(Module_ID),
    FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID)
);

CREATE TABLE Announcement (
    Announcement_ID NUMBER(10) PRIMARY KEY,
    Announcement_Description VARCHAR(300) NOT NULL,
    Announcement_Date DATE NOT NULL
);

CREATE TABLE Announcement_Module_Teacher (
    Announcement_ID NUMBER(10),
    Module_ID NUMBER(10),
    Student_ID NUMBER(10),
    Teacher_ID NUMBER(10),
    FOREIGN KEY (Announcement_ID) REFERENCES Announcement(Announcement_ID),
    FOREIGN KEY (Module_ID) REFERENCES Module(Module_ID),
    FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID),
    FOREIGN KEY (Teacher_ID) REFERENCES Teacher(Teacher_ID)
);

CREATE TABLE Resources (
    Resource_ID NUMBER(10) PRIMARY KEY,
    Resource_Title VARCHAR(100) NOT NULL,
    Resource_Type VARCHAR(30) NOT NULL,
    Resource_Duration NUMBER(4) NOT NULL
);

CREATE TABLE Resource_Module_Student (
    Resource_ID NUMBER(10),
    Module_ID NUMBER(10),
    Student_ID NUMBER(10),
    Resource_Completion_Status VARCHAR(20) NOT NULL,
    FOREIGN KEY (Resource_ID) REFERENCES Resources(Resource_ID),
    FOREIGN KEY (Module_ID) REFERENCES Module(Module_ID),
    FOREIGN KEY (Student_ID) REFERENCES Student(Student_ID)
);
